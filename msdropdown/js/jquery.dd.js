// MSDropDown - jquery.dd.js
// author: Marghoob Suleman - Search me on google
// Date: 12th Aug, 2009
// Version: 2.38.4
// Revision: 38
// web: www.giftlelo.com | www.marghoobsuleman.com
// Fork made by rootux | www.galbracha.com | https://github.com/rootux/ms-Dropdown
/* 
// Compressed using http://jscompress.com/
// msDropDown is free jQuery Plugin: you can redistribute it and/or modify
// it under the terms of the either the MIT License or the Gnu General Public License (GPL) Version 2
*/
(function($){var msOldDiv="";var dd=function(element,options){var sElement=element;var $this=this;var options=$.extend({height:120,visibleRows:10,rowHeight:23,showIcon:true,zIndex:9999,mainCSS:"dd",useSprite:false,animStyle:"show",animSpeed:.1,onInit:"",jsonTitle:true,style:""},options);this.ddProp=new Object;var oldSelectedValue="";var actionSettings={};actionSettings.insideWindow=true;actionSettings.keyboardAction=false;actionSettings.currentKey=null;var ddList=false;var config={postElementHolder:"_msddHolder",postID:"_msdd",postTitleID:"_title",postTitleTextID:"_titletext",postChildID:"_child",postAID:"_msa",postOPTAID:"_msopta",postInputID:"_msinput",postArrowID:"_arrow",postInputhidden:"_inp"};var styles={dd:options.mainCSS,ddTitle:"ddTitle",arrow:"arrow",ddChild:"ddChild",ddTitleText:"ddTitleText",disabled:1,ddOutOfVision:"ddOutOfVision",borderTop:"borderTop",noBorderTop:"noBorderTop",selected:"selected"};var attributes={actions:"focus,blur,change,click,dblclick,mousedown,mouseup,mouseover,mousemove,mouseout,keypress,keydown,keyup",prop:"size,multiple,disabled,tabindex"};this.onActions=new Object;var elementid=$(sElement).prop("id");if(typeof elementid=="undefined"||elementid.length<=0){elementid="msdrpdd"+$.msDropDown.counter++;$(sElement).attr("id",elementid)}var originClass=$(element).attr("class");var inlineCSS=$(sElement).prop("style");options.style+=inlineCSS==undefined?"":inlineCSS;var allOptions=$(sElement).children();ddList=$(sElement).prop("size")>1||$(sElement).prop("multiple")==true?true:false;if(ddList){options.visibleRows=$(sElement).prop("size")}var a_array={};var currentP=0;var isFilter=false;var oldHeight;var isClosing=false;var cacheElement={};var inputText="";var getElement=function(e){if(typeof cacheElement[e]=="undefined"){cacheElement[e]=document.getElementById(e)}return cacheElement[e]};var getPostID=function(e){return elementid+config[e]};var getOptionsProperties=function(e){var t=e;var n=$(t).prop("style");return typeof n=="undefined"?"":n.cssText};var matchIndex=function(e){var t=$("#"+elementid+" option:selected");if(t.length>1){for(var n=0;n<t.length;n++){if(e==t[n].index){return true}}}else if(t.length==1){if(t[0].index==e){return true}}return false};var createA=function(currentOptOption,current,currentopt,tp){var aTag="";var aidoptfix=tp=="opt"?getPostID("postOPTAID"):getPostID("postAID");var aid=tp=="opt"?aidoptfix+"_"+current+"_"+currentopt:aidoptfix+"_"+current;var arrow="";var t="";var clsName="";var pH="";if(options.useSprite!=false){clsName=" "+options.useSprite+" "+currentOptOption.className}else{arrow=$(currentOptOption).prop("title");var reg=new RegExp(/^\{.*\}$/);var isJson=reg.test(arrow);if(options.jsonTitle==true&&isJson==true){if(arrow.length!=0){var obj=eval("["+arrow+"]");img=typeof obj[0].image=="undefined"?"":obj[0].image;t=typeof obj[0].title=="undefined"?"":obj[0].title;pH=typeof obj[0].postHTML=="undefined"?"":obj[0].postHTML;arrow=img.length==0?"":'<img src="'+img+'" align="absmiddle" /> '}}else{arrow=arrow.length==0?"":'<img src="'+arrow+'" align="absmiddle" /> '}}var sText=$(currentOptOption).text();var sValue=$(currentOptOption).val();var sEnabledClass=$(currentOptOption).prop("disabled")==true?"disabled":"enabled";a_array[aid]={html:arrow+sText,value:sValue,text:sText,index:currentOptOption.index,id:aid,title:t};var innerStyle=getOptionsProperties(currentOptOption);if(matchIndex(currentOptOption.index)==true){aTag+='<a href="javascript:void(0);" class="'+styles.selected+" "+sEnabledClass+clsName+'"'}else{aTag+='<a  href="javascript:void(0);" class="'+sEnabledClass+clsName+'"'}if(innerStyle!==false&&innerStyle!==undefined&&innerStyle.length!=0){aTag+=" style='"+innerStyle+"'"}if(t!==""){aTag+=" title='"+t+"'"}aTag+=' id="'+aid+'">';aTag+=arrow+'<span class="'+styles.ddTitleText+'">'+sText+"</span>";if(pH!==""){aTag+=pH}aTag+="</a>";return aTag};var in_array=function(e){var t=e.toLowerCase();if(t.length==0)return-1;var n="";for(var r in a_array){var i=a_array[r].text.toLowerCase();if(i.substr(0,t.length)==t){n+="#"+a_array[r].id+", "}}return n==""?-1:n};var createATags=function(){var e=allOptions;if(e.length==0)return"";var t="";var n=getPostID("postAID");var r=getPostID("postOPTAID");e.each(function(n){var r=e[n];if(r.nodeName.toString().toLowerCase()=="optgroup"){t+="<div class='opta'>";t+="<span style='font-weight:bold;font-style:italic;clear:both;'>"+$(r).prop("label")+"</span>";var i=$(r).children();i.each(function(e){var r=i[e];t+=createA(r,n,e,"opt")});t+="</div>"}else{t+=createA(r,n,"","")}});return t};var createChildDiv=function(){var e=getPostID("postID");var t=getPostID("postChildID");var n=options.style;sDiv="";sDiv+='<div id="'+t+'" class="'+styles.ddChild+'"';if(!ddList){sDiv+=n!=""?' style="'+n+'"':""}else{sDiv+=n!=""?' style="border-top:1px solid #c3c3c3;display:block;position:relative;'+n+'"':""}sDiv+=">";return sDiv};var createTitleDiv=function(){var titleid=getPostID("postTitleID");var arrowid=getPostID("postArrowID");var titletextid=getPostID("postTitleTextID");var inputhidden=getPostID("postInputhidden");var sText="";var arrow="";if(getElement(elementid).options.length>0){sText=$("#"+elementid+" option:selected").text();arrow=$("#"+elementid+" option:selected").prop("title")}var img="";var t="";var reg=new RegExp(/^\{.*\}$/);var isJson=reg.test(arrow);if(options.jsonTitle==true&&isJson==true){if(arrow.length!=0){var obj=eval("["+arrow+"]");img=typeof obj[0].image=="undefined"?"":obj[0].image;t=typeof obj[0].title=="undefined"?"":obj[0].title;arrow=img.length==0||options.showIcon==false||options.useSprite!=false?"":'<img src="'+img+'" align="absmiddle" /> '}}else{arrow=arrow.length==0||arrow==undefined||options.showIcon==false||options.useSprite!=false?"":'<img src="'+arrow+'" align="absmiddle" /> '}var sDiv='<div id="'+titleid+'" class="'+styles.ddTitle+'"';sDiv+=">";sDiv+='<span id="'+arrowid+'" class="'+styles.arrow+'"></span><span class="'+styles.ddTitleText+'" id="'+titletextid+'">'+arrow+'<span class="'+styles.ddTitleText+'">'+sText+"</span></span></div>";return sDiv};var applyEventsOnA=function(){var e=getPostID("postChildID");$("#"+e+" a.enabled").unbind("click");$("#"+e+" a.enabled").bind("click",function(t){t.preventDefault();manageSelection(this);setValue();if(!ddList){$("#"+e).unbind("mouseover");setInsideWindow(false);var n=options.showIcon==false?$(this).text():$(this).html();setTitleText(n);$this.close()}})};var createDropDown=function(){var e=false;var t=getPostID("postID");var n=getPostID("postTitleID");var r=getPostID("postTitleTextID");var i=getPostID("postChildID");var s=getPostID("postArrowID");var o=$("#"+elementid).outerWidth();var u=options.style;if($("#"+t).length>0){$("#"+t).remove();e=true}var a='<div id="'+t+'" class="'+styles.dd+" "+originClass+'"';a+=u!=""?' style="'+u+'"':"";a+=">";a+=createTitleDiv();a+=createChildDiv();a+=createATags();a+="</div>";a+="</div>";if(e==true){var f=getPostID("postElementHolder");$("#"+f).before(a)}else{$("#"+elementid).before(a)}if(ddList){var n=getPostID("postTitleID");$("#"+n).hide()}$("#"+i).css("min-width",o-2+"px");if(allOptions.length>options.visibleRows){var l=parseInt($("#"+i+" a:first").css("padding-bottom"))+parseInt($("#"+i+" a:first").css("padding-top"));var c=options.rowHeight*options.visibleRows-l;$("#"+i).css("height",c+"px")}else if(ddList){var c=$("#"+elementid).height();$("#"+i).css("height",c+"px")}if(e==false){setOutOfVision();addRefreshMethods(elementid)}if($("#"+elementid).prop("disabled")==true){$("#"+t).css("opacity",styles.disabled)}applyEvents();$("#"+n).bind("mouseover",function(e){hightlightArrow(1)});$("#"+n).bind("mouseout",function(e){hightlightArrow(0)});applyEventsOnA();$("#"+i+" a.disabled").css("opacity",styles.disabled);if(ddList){$("#"+i).bind("mouseover",function(e){if(!actionSettings.keyboardAction){actionSettings.keyboardAction=true;$(document).bind("keydown",function(e){var t=e.keyCode;actionSettings.currentKey=t;if(t==39||t==40){e.preventDefault();e.stopPropagation();next();setValue()}if(t==37||t==38){e.preventDefault();e.stopPropagation();previous();setValue()}})}})}$("#"+i).bind("mouseout",function(e){setInsideWindow(false);$(document).unbind("keydown",d_onkeydown);actionSettings.keyboardAction=false;actionSettings.currentKey=null});$("#"+n).bind("click",function(e){setInsideWindow(false);if($("#"+i+":visible").length==1){$("#"+i).unbind("mouseover")}else{$("#"+i).bind("mouseover",function(e){setInsideWindow(true)});$("#"+i).css("min-width",$("#"+elementid+"_msdd").width()-2);$this.open()}});$("#"+n).bind("mouseout",function(e){setInsideWindow(false)});if(options.showIcon&&options.useSprite!=false){setTitleImageSprite()}};var getByIndex=function(e){for(var t in a_array){if(a_array[t].index==e){return a_array[t]}}return-1};var manageSelection=function(e){var t=getPostID("postChildID");if($("#"+t+" a."+styles.selected).length==1){oldSelectedValue=$("#"+t+" a."+styles.selected).text()}if(!ddList){$("#"+t+" a."+styles.selected).removeClass(styles.selected)}var n=$("#"+t+" a."+styles.selected).prop("id");if(n!=undefined){var r=actionSettings.oldIndex==undefined||actionSettings.oldIndex==null?a_array[n].index:actionSettings.oldIndex}if(e&&!ddList){$(e).addClass(styles.selected)}if(ddList){var i=actionSettings.currentKey;if($("#"+elementid).prop("multiple")==true){if(i==17){actionSettings.oldIndex=a_array[$(e).prop("id")].index;$(e).toggleClass(styles.selected)}else if(i==16){$("#"+t+" a."+styles.selected).removeClass(styles.selected);$(e).addClass(styles.selected);var s=$(e).prop("id");var o=a_array[s].index;for(var u=Math.min(r,o);u<=Math.max(r,o);u++){$("#"+getByIndex(u).id).addClass(styles.selected)}}else{$("#"+t+" a."+styles.selected).removeClass(styles.selected);$(e).addClass(styles.selected);actionSettings.oldIndex=a_array[$(e).prop("id")].index}}else{$("#"+t+" a."+styles.selected).removeClass(styles.selected);$(e).addClass(styles.selected);actionSettings.oldIndex=a_array[$(e).prop("id")].index}}};var addRefreshMethods=function(e){var t=e;getElement(t).refresh=function(e){$("#"+t).msDropDown(options)}};var setInsideWindow=function(e){actionSettings.insideWindow=e};var getInsideWindow=function(){return actionSettings.insideWindow};var applyEvents=function(){var e=getPostID("postID");var t=attributes.actions.split(",");for(var n=0;n<t.length;n++){var r=t[n];var i=has_handler(r);if(i==true){switch(r){case"focus":$("#"+e).bind("mouseenter",function(e){getElement(elementid).focus()});break;case"click":$("#"+e).bind("click",function(e){$("#"+elementid).trigger("click")});break;case"dblclick":$("#"+e).bind("dblclick",function(e){$("#"+elementid).trigger("dblclick")});break;case"mousedown":$("#"+e).bind("mousedown",function(e){$("#"+elementid).trigger("mousedown")});break;case"mouseup":$("#"+e).bind("mouseup",function(e){$("#"+elementid).trigger("mouseup")});break;case"mouseover":$("#"+e).bind("mouseover",function(e){$("#"+elementid).trigger("mouseover")});break;case"mousemove":$("#"+e).bind("mousemove",function(e){$("#"+elementid).trigger("mousemove")});break;case"mouseout":$("#"+e).bind("mouseout",function(e){$("#"+elementid).trigger("mouseout")});break}}}};var setOutOfVision=function(){var e=getPostID("postElementHolder");$("#"+elementid).after("<div class='"+styles.ddOutOfVision+"' style='height:0px;overflow:hidden;position:absolute;' id='"+e+"'></div>");$("#"+elementid).appendTo($("#"+e))};var setTitleText=function(e){var t=getPostID("postTitleTextID");$("#"+t).html(e)};var navigateA=function(e){var t=e;var n=getPostID("postChildID");var r=$("#"+n+" a:visible");var i=r.length;var s=$("#"+n+" a:visible").index($("#"+n+" a.selected:visible"));var o;switch(t){case"next":if(s<i-1){s++;o=r[s]}break;case"previous":if(s<i&&s>0){s--;o=r[s]}break}if(typeof o=="undefined"){return false}$("#"+n+" a."+styles.selected).removeClass(styles.selected);$(o).addClass(styles.selected);var u=o.id;if(!ddList){var a=options.showIcon==false?a_array[u].text:$("#"+u).html();setTitleText(a);setTitleImageSprite(a_array[u].index)}if(t=="next"){if(parseInt($("#"+u).position().top+$("#"+u).height())>=parseInt($("#"+n).height())){$("#"+n).scrollTop($("#"+n).scrollTop()+$("#"+u).height()+$("#"+u).height())}}else{if(parseInt($("#"+u).position().top+$("#"+u).height())<=0){$("#"+n).scrollTop($("#"+n).scrollTop()-$("#"+n).height()-$("#"+u).height())}}};var next=function(){navigateA("next")};var previous=function(){navigateA("previous")};var setTitleImageSprite=function(e){if(options.useSprite!=false){var t=getPostID("postTitleTextID");var n=typeof e=="undefined"?getElement(elementid).selectedIndex:e;var r=getElement(elementid).options[n].className;if(r.length>0){var i=getPostID("postChildID");var s=$("#"+i+" a."+r).prop("id");var o=$("#"+s).css("background-image");var u=$("#"+s).css("background-position");if(u==undefined){u=$("#"+s).css("background-position-x")+" "+$("#"+s).css("background-position-y")}var a=$("#"+s).css("padding-left");if(o!=undefined){$("#"+t).find("."+styles.ddTitleText).attr("style","background:"+o)}if(u!=undefined){$("#"+t).find("."+styles.ddTitleText).css("background-position",u)}if(a!=undefined){$("#"+t).find("."+styles.ddTitleText).css("padding-left",a)}$("#"+t).find("."+styles.ddTitleText).css("background-repeat","no-repeat");$("#"+t).find("."+styles.ddTitleText).css("padding-bottom","2px")}}};var setValue=function(){var e=getPostID("postChildID");var t=$("#"+e+" a."+styles.selected);if(t.length==1){var n=$("#"+e+" a."+styles.selected).text();var r=$("#"+e+" a."+styles.selected).prop("id");if(r!=undefined){var i=a_array[r].value;getElement(elementid).selectedIndex=a_array[r].index}if(options.showIcon&&options.useSprite!=false)setTitleImageSprite()}else if(t.length>1){for(var s=0;s<t.length;s++){var r=$(t[s]).prop("id");var o=a_array[r].index;getElement(elementid).options[o].selected="selected"}}var u=getElement(elementid).selectedIndex;$this.ddProp["selectedIndex"]=u};var has_handler=function(e){if($("#"+elementid).prop("on"+e)!=undefined){return true}var t=$("#"+elementid).data("events");if(t&&t[e]){return true}return false};var blur_m=function(e){$("#"+elementid).focus();$("#"+elementid)[0].blur();setValue();$(document).unbind("mouseup",d_onmouseup);$(document).unbind("mouseup",blur_m)};var checkMethodAndApply=function(){var e=getPostID("postChildID");if(has_handler("change")==true){var t=a_array[$("#"+e+" a.selected").prop("id")].text;if($.trim(oldSelectedValue)!==$.trim(t)&&oldSelectedValue!==""){$("#"+elementid).trigger("change")}}if(has_handler("mouseup")==true){$("#"+elementid).trigger("mouseup")}if(has_handler("blur")==true){$(document).bind("mouseup",blur_m)}return false};var hightlightArrow=function(e){var t=getPostID("postArrowID");if(e==1)$("#"+t).css({backgroundPosition:"0 100%"});else $("#"+t).css({backgroundPosition:"0 0"})};var setOriginalProperties=function(){for(var e in getElement(elementid)){if(typeof getElement(elementid)[e]!=="function"&&typeof getElement(elementid)[e]!=="undefined"&&typeof getElement(elementid)[e]!=="null"){$this.set(e,getElement(elementid)[e],true)}}};var setValueByIndex=function(e,t){if(getByIndex(t)!=-1){getElement(elementid)[e]=t;var n=getPostID("postChildID");$("#"+n+" a."+styles.selected).removeClass(styles.selected);$("#"+getByIndex(t).id).addClass(styles.selected);var r=getByIndex(getElement(elementid).selectedIndex).html;setTitleText(r)}};var addRemoveFromIndex=function(e,t){if(t=="d"){for(var n in a_array){if(a_array[n].index==e){delete a_array[n];break}}}var r=0;for(var n in a_array){a_array[n].index=r;r++}};var shouldOpenOpposite=function(){var e=getPostID("postChildID");var t=getPostID("postID");var n=$("#"+t).offset();var r=$("#"+t).height();var i=$(window).height();var s=$(window).scrollTop();var o=$("#"+e).height();var u={zIndex:options.zIndex,top:r+"px",display:"none"};var a=options.animStyle;var f=false;var l=styles.noBorderTop;$("#"+e).removeClass(styles.noBorderTop);$("#"+e).removeClass(styles.borderTop);if(i+s<Math.floor(o+r+n.top)){var c=o;u={zIndex:options.zIndex,top:"-"+c+"px",display:"none"};a="show";f=true;l=styles.borderTop}return{opp:f,ani:a,css:u,border:l}};var fireOpenEvent=function(){if($this.onActions["onOpen"]!=null){eval($this.onActions["onOpen"])($this)}};var fireCloseEvent=function(){checkMethodAndApply();if($this.onActions["onClose"]!=null){eval($this.onActions["onClose"])($this)}};var d_onkeydown=function(e){var t=getPostID("postChildID");var n=e.keyCode;if(n==8){e.preventDefault();e.stopPropagation();inputText=inputText.length==0?"":inputText.substr(0,inputText.length-1)}switch(n){case 39:case 40:e.preventDefault();e.stopPropagation();next();break;case 37:case 38:e.preventDefault();e.stopPropagation();previous();break;case 27:case 13:$this.close();setValue();break;default:if(n>46){inputText+=String.fromCharCode(n)}var r=in_array(inputText);if(r!=-1){$("#"+t).css({height:"auto"});$("#"+t+" a").hide();$(r).show();var i=shouldOpenOpposite();$("#"+t).css(i.css);$("#"+t).css({display:"block"})}else{$("#"+t+" a").show();$("#"+t).css({height:oldHeight+"px"})}break}if(has_handler("keydown")==true){getElement(elementid).onkeydown()}return false};var d_onmouseup=function(e){if(getInsideWindow()==false){$this.close()}return false};var d_onkeyup=function(e){if($("#"+elementid).prop("onkeyup")!=undefined){getElement(elementid).onkeyup()}return false};this.open=function(){if($this.get("disabled",true)==true||$this.get("options",true).length==0)return;var e=getPostID("postChildID");if(msOldDiv!=""&&e!=msOldDiv){$("#"+msOldDiv).slideUp(options.animSpeed);$("#"+msOldDiv).css({zIndex:"0"})}if($("#"+e).css("display")=="none"){oldSelectedValue=a_array[$("#"+e+" a.selected").prop("id")].text;inputText="";oldHeight=$("#"+e).height();$("#"+e+" a").show();$(document).bind("keydown",d_onkeydown);$(document).bind("keyup",d_onkeyup);$(document).bind("mouseup",d_onmouseup);var t=shouldOpenOpposite();$("#"+e).css(t.css);if(t.opp==true){$("#"+e).css({display:"block"});$("#"+e).addClass(t.border);fireOpenEvent()}else{$("#"+e)[t.ani](options.animSpeed,function(){$("#"+e).addClass(t.border);fireOpenEvent()})}if(e!=msOldDiv){msOldDiv=e}selectedIndexPosition=$("#"+e+" a.selected").index()-1;lineHeight=parseInt($("#"+e).css("line-height"));yToScroll=selectedIndexPosition*lineHeight;$("#"+e).scrollTop(yToScroll)}};this.close=function(){var e=getPostID("postChildID");if(!$("#"+e).is(":visible")||isClosing)return;isClosing=true;if($("#"+e).css("display")=="none"){return false}var t=$("#"+getPostID("postTitleID")).position().top;var n=shouldOpenOpposite();isFilter=false;if(n.opp==true){$("#"+e).animate({height:0,top:t},function(){$("#"+e).css({height:oldHeight+"px",display:"none"});fireCloseEvent();isClosing=false})}else{$("#"+e).slideUp(options.animSpeed,function(t){fireCloseEvent();$("#"+e).css({zIndex:"0"});$("#"+e).css({height:oldHeight+"px"});isClosing=false})}setTitleImageSprite();$(document).unbind("keydown",d_onkeydown);$(document).unbind("keyup",d_onkeyup);$(document).unbind("mouseup",d_onmouseup)};this.selectedIndex=function(e){if(typeof e=="undefined"){return $this.get("selectedIndex")}else{$this.set("selectedIndex",e)}};this.debug=function(e){if(typeof e=="undefined"||e==true){$("."+styles.ddOutOfVision).removeAttr("style")}else{$("."+styles.ddOutOfVision).attr("style","height:0px;overflow:hidden;position:absolute")}};this.set=function(e,t,n){if(typeof e=="undefined"||typeof t=="undefined")return false;$this.ddProp[e]=t;if(n!=true){switch(e){case"selectedIndex":setValueByIndex(e,t);break;case"disabled":$this.disabled(t,true);break;case"multiple":getElement(elementid)[e]=t;ddList=$(sElement).prop("size")>0||$(sElement).prop("multiple")==true?true:false;if(ddList){var r=$("#"+elementid).height();var i=getPostID("postChildID");$("#"+i).css("height",r+"px");var s=getPostID("postTitleID");$("#"+s).hide();var i=getPostID("postChildID");$("#"+i).css({display:"block",position:"relative"});applyEventsOnA()}break;case"size":getElement(elementid)[e]=t;if(t==0){getElement(elementid).multiple=false}ddList=$(sElement).prop("size")>0||$(sElement).prop("multiple")==true?true:false;if(t==0){var s=getPostID("postTitleID");$("#"+s).show();var i=getPostID("postChildID");$("#"+i).css({display:"none",position:"absolute"});var o="";if(getElement(elementid).selectedIndex>=0){var u=getByIndex(getElement(elementid).selectedIndex);o=u.html;manageSelection($("#"+u.id))}setTitleText(o)}else{var s=getPostID("postTitleID");$("#"+s).hide();var i=getPostID("postChildID");$("#"+i).css({display:"block",position:"relative"})}break;default:try{getElement(elementid)[e]=t}catch(a){}break}}};this.get=function(e,t){if(e==undefined&&t==undefined){return $this.ddProp}if(e!=undefined&&t==undefined){return $this.ddProp[e]!=undefined?$this.ddProp[e]:null}if(e!=undefined&&t!=undefined){return getElement(elementid)[e]}};this.visible=function(e){var t=getPostID("postID");if(e==true){$("#"+t).show()}else if(e==false){$("#"+t).hide()}else{return $("#"+t).css("display")}};this.add=function(e,t){var n=e;var r=n.text;var i=n.value==undefined||n.value==null?r:n.value;var s=n["title"]==undefined||n["title"]==null?"":n["title"];var o=t==undefined||t==null?getElement(elementid).options.length:t;getElement(elementid).options[o]=new Option(r,i);if(s!="")getElement(elementid).options[o]["title"]=s;var u=getByIndex(o);if(u!=-1){var a=createA(getElement(elementid).options[o],o,"","");$("#"+u.id).html(a)}else{var a=createA(getElement(elementid).options[o],o,"","");var f=getPostID("postChildID");$("#"+f).append(a);applyEventsOnA()}};this.remove=function(e){getElement(elementid).remove(e);if(getByIndex(e)!=-1){$("#"+getByIndex(e).id).remove();addRemoveFromIndex(e,"d")}if(getElement(elementid).length==0){setTitleText("")}else{var t=getByIndex(getElement(elementid).selectedIndex).html;setTitleText(t)}$this.set("selectedIndex",getElement(elementid).selectedIndex)};this.disabled=function(e,t){getElement(elementid).disabled=e;var n=getPostID("postID");if(e==true){$("#"+n).css("opacity",styles.disabled);$this.close()}else if(e==false){$("#"+n).css("opacity",1)}if(t!=true){$this.set("disabled",e)}};this.form=function(){return getElement(elementid).form==undefined?null:getElement(elementid).form};this.item=function(){if(arguments.length==1){return getElement(elementid).item(arguments[0])}else if(arguments.length==2){return getElement(elementid).item(arguments[0],arguments[1])}else{throw{message:"An index is required!"}}};this.namedItem=function(e){return getElement(elementid).namedItem(e)};this.multiple=function(e){if(typeof e=="undefined"){return $this.get("multiple")}else{$this.set("multiple",e)}};this.size=function(e){if(typeof e=="undefined"){return $this.get("size")}else{$this.set("size",e)}};this.addMyEvent=function(e,t){$this.onActions[e]=t};this.fireEvent=function(nm){eval($this.onActions[nm])($this)};this.showRows=function(e){if(typeof e=="undefined"||e==0){return false}var t=getPostID("postChildID");var n=$("#"+t+" a:first").height();var r=n==0?options.rowHeight:n;var i=e*r;$("#"+t).css("height",i+"px")};var updateCommonVars=function(){$this.set("version",$.msDropDown.version);$this.set("author",$.msDropDown.author)};var init=function(){createDropDown();setOriginalProperties();updateCommonVars();if(options.onInit!=""){eval(options.onInit)($this)}};init()};$.msDropDown={version:"2.38.4",author:"Marghoob Suleman",counter:20,debug:function(e){if(e==true){$(".ddOutOfVision").css({height:"20px",position:"relative"})}else{$(".ddOutOfVision").css({height:"0px",position:"absolute"})}},create:function(e,t){return $(e).msDropDown(t).data("dd")}};$.fn.extend({msDropDown:function(e){return this.each(function(){var t=new dd(this,e);$(this).data("dd",t)})}});if(typeof $.fn.prop=="undefined"){$.fn.prop=function(e,t){if(typeof t=="undefined"){return $(this).attr(e)}try{$(this).attr(e,t)}catch(n){}}}})(jQuery)
